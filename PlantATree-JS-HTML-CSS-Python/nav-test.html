<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Navigation Test - PlantATree</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .section { display: none; padding: 20px; margin: 20px 0; border: 2px solid #7bc142; border-radius: 10px; }
        .section.active { display: block; }
        .hero { background: #e8f5e8; }
        .nav { margin: 20px 0; }
        .nav button { 
            background: #7bc142; color: white; border: none; padding: 10px 20px; 
            margin: 5px; border-radius: 5px; cursor: pointer; 
        }
        .nav button:hover { background: #6ba539; }
        .status { background: #f0f8ff; padding: 10px; border-radius: 5px; margin: 10px 0; }
    </style>
</head>
<body>
    <h1>🧪 Navigation Test</h1>
    
    <div class="status" id="status">
    JavaScript status: <span id="js-status">Checking...</span>
    </div>
    
    <div class="nav">
    <button onclick="showSection('home')">🏠 Home</button>
    <button onclick="showSection('map')">🗺️ Map</button>
    <button onclick="showSection('feed')">📱 Eco Actions</button>
    <button onclick="showSection('profile')">👤 Profile</button>
    </div>
    
    <div class="nav">
    <button onclick="testConsole()">📝 Test Console</button>
    <button onclick="testAlert()">🔔 Test Alert</button>
    <button onclick="testFunctions()">⚙️ Test Functions</button>
    </div>
    
    <!-- Sections -->
    <div id="home" class="section hero active">
    <h2>🏠 Home</h2>
    <p>This is the home section. If you see this, navigation works!</p>
    <button onclick="showSection('map')">Go to Map →</button>
    </div>
    
    <div id="map" class="section">
        <h2>🗺️ Map</h2>
        <p>This is the map section.</p>
        <div style="height: 200px; background: #e8f5e8; border: 2px dashed #7bc142; display: flex; align-items: center; justify-content: center; border-radius: 10px;">
            <p>The map will be here</p>
        </div>
    </div>
    
    <div id="feed" class="section">
        <h2>📱 Eco Actions</h2>
        <p>This is the eco actions section.</p>
        <div style="background: white; padding: 15px; border-radius: 10px; border: 1px solid #ddd; margin: 10px 0;">
            <h4>Sample Eco Action</h4>
            <p>I planted a tree in the park!</p>
        </div>
    </div>
    
    <div id="profile" class="section">
        <h2>👤 Profile</h2>
        <p>This is the user profile.</p>
        <div style="background: white; padding: 15px; border-radius: 10px; border: 1px solid #ddd;">
            <h4>User: Test</h4>
            <p>Points: 100</p>
            <p>Badges: 🌳🌿</p>
        </div>
    </div>
    
    <div id="log" style="background: #f8f9fa; padding: 15px; border-radius: 10px; margin: 20px 0;">
    <h3>📋 Log:</h3>
    <div id="log-content">Logs will appear here...</div>
    </div>

    <script>
        let currentSection = 'home';
        
        function log(message) {
            const logContent = document.getElementById('log-content');
            const timestamp = new Date().toLocaleTimeString();
            logContent.innerHTML += `<div>${timestamp}: ${message}</div>`;
            console.log(message);
        }
        
        function showSection(sectionName) {
            log(`Опит за показване на секция: ${sectionName}`);
            
            try {
                // Hide all sections
                const sections = document.querySelectorAll('.section');
                sections.forEach(section => {
                    section.classList.remove('active');
                    log(`Скрита секция: ${section.id}`);
                });
                
                // Show target section
                const targetSection = document.getElementById(sectionName);
                if (targetSection) {
                    targetSection.classList.add('active');
                    currentSection = sectionName;
                    log(`✅ Показана секция: ${sectionName}`);
                } else {
                    log(`❌ Секция не е намерена: ${sectionName}`);
                }
                
            } catch (error) {
                log(`❌ Грешка: ${error.message}`);
            }
        }
        
        function testConsole() {
            console.log('Test console message');
            log('Console тест изпълнен');
        }
        
        function testAlert() {
            alert('Alert тест работи!');
            log('Alert тест изпълнен');
        }
        
        function testFunctions() {
            log('=== ТЕСТ НА ФУНКЦИИТЕ ===');
            log('showSection function: ' + typeof showSection);
            log('document.getElementById: ' + typeof document.getElementById);
            log('querySelector: ' + typeof document.querySelector);
            log('querySelectorAll: ' + typeof document.querySelectorAll);
            
            const sections = document.querySelectorAll('.section');
            log(`Намерени секции: ${sections.length}`);
            
            sections.forEach((section, index) => {
                log(`Секция ${index + 1}: ${section.id} - видима: ${!section.classList.contains('active') ? 'не' : 'да'}`);
            });
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            log('DOM зареден');
            document.getElementById('js-status').textContent = '✅ JavaScript работи!';
            document.getElementById('js-status').style.color = 'green';
            
            log('Инициализирам страницата...');
            log('Текуща секция: ' + currentSection);
        });
        
        // Global error handler
        window.addEventListener('error', function(e) {
            log(`❌ JavaScript грешка: ${e.message}`);
        });
    </script>
</body>
</html>